{{!-- Use a partial because of recursive navigation items structure. We don't want   --}}
{{!-- to inherit properties from the parent navigation item, like 'first' and 'last' --}}

{{#*inline "level2NavigationItem"}}
<a href="{{url}}" id="navigation-item-{{id}}" class="navigation-item-lv2{{#if @first}} first{{/if}}{{#if @last}} last{{/if}}">{{title}}</a>
{{/inline}}

{{#if navigation}}
<nav class="navigation">
  {{#each navigation.items}}
  <div class="navigation-item-container-lv1">
    {{#if isFolder}}
    <div id="navigation-item-{{id}}" class="navigation-item-lv1 navigation-folder">{{title}}</div>
    {{else}}
    <a href="{{url}}" id="navigation-item-{{id}}" class="navigation-item-lv1">{{title}}</a>
    {{/if}}
    {{#if items}}
    <div id="navigation-item-{{id}}-children" class="navigation-item-container-lv2">
      {{#each items}}
      {{> level2NavigationItem }}
      {{/each}}
    </div>
    {{/if}}
  </div>
  {{/each}}
</nav>
{{/if}}
